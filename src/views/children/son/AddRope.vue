<template>
  <div>
    <div
      class="h-[80px] w-[200px] text-[20px] font-bold leading-[80px] flex justify-between"
    >
      <div
        class="w-[25px] h-[25px] mt-[30px] ml-[25px] flex justify-center rounded-[12px] sha"
      >
        <Icon
          icon="gravity-ui:arrow-left"
          style="color: #0066ff"
          class="mt-[3px]"
          @click="returnrepo"
        />
      </div>
      <div>åˆ›å»ºä»£ç ä»“åº“</div>
    </div>
    <div class="ml-[25px]">
      <div class="h-[80px]">
        <div class="font-bold mb-[5px] text-[16px]">
          æ‰€å±é¡¹ç›®<span class="text-[#ff0000] pl-[5px]">*</span>
        </div>
        <input
          type="text"
          placeholder="æ‰€å±é¡¹ç›®"
          class="w-[350px] h-[35px] pl-[15px]"
        />
      </div>

      <div class="flex w-[100%] h-[80px]">
        <div>
          <div class="font-bold mb-[5px] text-[16px]">
            ä»“åº“ç±»å‹<span class="text-[#ff0000] pl-[5px]">*</span>
          </div>
          <div
            class="w-[130px] h-[35px] leading-[35px] box-border border-[#bebebe] border-solid border-[1px] flex justify-start pl-[10px]"
          >
            <Icon icon="logos:git-icon" class="mt-[11px] mr-[10px]" />GITä»“åº“
          </div>
        </div>
        <div>
          <div class="font-bold mb-[5px] text-[16px]">
            ä»“åº“åç§°<span class="text-[#ff0000] pl-[5px]">*</span>
          </div>
          <input
            type="text"
            placeholder="ä»“åº“åç§°åªæ”¯æŒå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿(_)ã€ä¸­åˆ’çº¿(-)å’Œç‚¹(.)çš„ç»„åˆ"
            class="w-[500px] h-[35px] box-border border-[#bebebe] border-solid border-[1px] pl-[15px]"
          />
        </div>
      </div>

      <div class="h-[150px]">
        <div class="font-bold mb-[5px] text-[16px]">ä»“åº“æè¿°</div>
        <textarea
          placeholder="è¯·è¾“å…¥ä»“åº“æè¿°"
          name=""
          id=""
          class="w-[80%] h-[100px] box-border border-[#bebebe] border-solid border-[1px] pl-[15px] pt-[15px]"
        ></textarea>
      </div>
      <div class="h-[115px]">
        <div class="font-bold mb-[5px] text-[16px]">åˆå§‹åŒ–ä»“åº“</div>
        <div>
          <CheckboxGroup
            v-model:value="value1"
            class="my-[5px] flex flex-col"
            :options="plainOptions"
            >ç”ŸæˆREADMEæ–‡ä»¶</CheckboxGroup
          ><br />
        </div>
      </div>

      <div class="h-[100px]">
        <div class="font-bold mb-[5px] text-[16px]">æ˜¯å¦å¼€æº</div>
        <div>
          <RadioGroup v-model:value="value">
            <Radio :style="radioStyle" :value="1">ç§æœ‰ä»“åº“ï¼ˆä»…å¯¹ä»“åº“æˆå‘˜å¯è§ï¼Œä»“åº“æˆå‘˜å¯è®¿é—®ä»“åº“ã€‚ï¼‰</Radio>
            <Radio :style="radioStyle" :value="2">å…¬å¼€ä»“åº“</Radio>
          </RadioGroup>
        </div>
      </div>

      <div class="h-[30px]">
        <Button type="primary" class="bg-black" @click="addrepo">å®Œæˆåˆ›å»º</Button>
        <Button class="ml-[10px]">å–æ¶ˆ</Button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { CheckboxGroup,Radio,RadioGroup,Button} from "ant-design-vue";
import { Icon } from "@iconify/vue";
import { useRouter } from "vue-router";
import { getRope } from "@/service/index";
import { reactive, ref } from 'vue';
import to from "await-to-js";
const value = ref(1);
const radioStyle = reactive({
  display: 'flex',
  height: '30px',
  lineHeight: '30px',
});
const plainOptions = [
  "ç”ŸæˆREADMEæ–‡ä»¶",
  "æ·»åŠ .gitignoreæ–‡ä»¶",
  "æ·»åŠ åˆ†æ”¯æ¨¡å‹ (ä»“åº“åˆ›å»ºåæ ¹æ®æ‰€é€‰æ¨¡å‹åˆ›å»ºåˆ†æ”¯)",
];

const router = useRouter();
const returnrepo = () => {
  router.push({ path: "/coderepository" });
};

const repo = {
  access_token: "bacd0fa0b4da52d3a1b2a2a4eecc9b4d",
  token_type: "bearer",
  expires_in: 86400,
  refresh_token:
    "2f7a0a072963bc3493f20f0214c4399728f8be9ae5cc03b4d9809548969751f6",
  scope:
    "user_info projects pull_requests issues notes keys hook groups gists enterprises",
};
// getRope(repo).then((res) => {
//   console.log(res);
// });
// const { notification } = App.useApp();

// const userLoginInfo = ref({
//   username: "1239303157@qq.com",
//   password: "cyl20041030",
// });
const addrepo = async () => {
  const repoData = {
  access_token: "bacd0fa0b4da52d3a1b2a2a4eecc9b4d",
  token_type: "bearer",
  expires_in: 86400,
  refresh_token:
    "2f7a0a072963bc3493f20f0214c4399728f8be9ae5cc03b4d9809548969751f6",
  scope:
    "user_info projects pull_requests issues notes keys hook groups gists enterprises",
};
  const [err, res] = await to(getRope(repoData));
  if (!err) {
    // notification.success({ message: "ğŸ‰æ­å–œä½ ï¼Œåˆ›å»ºæˆåŠŸï¼" });
    router.replace("/coderepository/recently");
  }
};
</script>
